(function(e){function t(t){for(var r,a,o=t[0],u=t[1],c=t[2],p=0,d=[];p<o.length;p++)a=o[p],i[a]&&d.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},s=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),i=n("ce5b"),s=n.n(i),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("toolbar",{attrs:{login:e.login,logout:e.logout,profile:e.profile,loggedIn:e.loggedIn}}),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1),n("v-footer",{attrs:{app:""}})],1)},o=[],u=n("cebc"),c=n("2f62"),l=function(e,t){var n=t._c;return n("v-toolbar",{attrs:{app:"",dark:"",color:"primary"}},[n("v-toolbar-title",{staticClass:"white--text ml-5"},[t._v("FireQuiz")]),n("v-spacer"),t.props.loggedIn?n("v-menu",{attrs:{auto:"","offset-y":"",bottom:""}},[n("v-avatar",{staticClass:"mr-5",attrs:{slot:"activator"},slot:"activator"},[n("img",{attrs:{src:t.props.profile.picture}})]),n("v-list",[n("v-list-tile",{on:{click:t.props.logout}},[n("v-list-tile-title",[t._v("Logout")])],1)],1)],1):n("v-btn",{staticClass:"mr-5",attrs:{flat:""},on:{click:t.props.login}},[t._v("Login")])],1)},p=[],d=n("2877"),f={},v=Object(d["a"])(f,l,p,!0,null,null,null),h=v.exports,m={name:"app",components:{Toolbar:h},computed:Object(u["a"])({},Object(c["c"])("user",{profile:"profile",loggedIn:"loggedIn"})),methods:Object(u["a"])({},Object(c["b"])("user",{login:"login",logout:"logout"}))},b=m,g=Object(d["a"])(b,a,o,!1,null,null,null),w=g.exports,q=n("8c4f"),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.quizes,function(e){return n("quiz-card",{key:e.id,attrs:{title:e.title,description:e.description,id:e.id}})}),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.loggedIn,expression:"loggedIn"}],staticClass:"mb-5",attrs:{absolute:"",dark:"",fab:"",bottom:"",right:"",color:"primary",to:"/create"}},[n("v-icon",[e._v("add")])],1)],1)],2)},x=[],_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",{staticClass:"pa-2",attrs:{xs12:"",sm6:"",md4:"",xl2:""}},[n("v-card",{staticClass:"white--text",attrs:{color:e.randomColor()}},[e._v("\n    hello\n  ")])],1)},O=[],j={name:"quiz-card",props:["title","description","id"],methods:{randomColor:function(){var e=["grey","deep-orange","brown","blue-grey","orange","green","cyan","teal","blue","indigo","pink","red","purple"],t=Math.floor(Math.random()*e.length);return e[t]}}},Q=j,I=Object(d["a"])(Q,_,O,!1,null,null,null),k=I.exports,y={name:"home",components:{QuizCard:k},created:function(){this.findQuizes()},computed:Object(u["a"])({},Object(c["c"])("user",{loggedIn:"loggedIn"}),Object(c["c"])("quiz",{quizes:"list"})),methods:Object(u["a"])({},Object(c["b"])("quiz",{findQuizes:"list"}))},A=y,E=Object(d["a"])(A,z,x,!1,null,null,null),R=E.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("div",[n("div",{staticClass:"headline"},[n("v-icon",[e._v("question_answer")]),e._v(" Neues Quiz\n      ")],1)])]),n("v-subheader",[e._v("Quiz Informationen")]),n("quiz-information"),n("v-subheader",[e._v("Quiz Fragen")]),n("quiz-questions"),n("quiz-actions",{attrs:{action:e.createQuiz,actionName:"Erstellen"}})],1)},T=[],N=(n("96cf"),n("3b8d")),P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Titel",value:e.quiz.title},on:{input:e.updateTitle}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"Beschreibung","multi-line":"",value:e.quiz.description},on:{input:e.updateDescription}})],1)],1)],1)},C=[],F="UPDATE_INFORMATION",U="ADD_QUESTION",D="UPDATE_QUESTION",$="REMOVE_QUESTION",M="ADD_ANSWER",W="REMOVE_ANSWER",B="UPDATE_ANSWER",L="RESET_NEW_QUIZ",Z="RESET_QUIZ",G="PUSH_QUIZ",H="SET_QUIZ",J={name:"quiz-information",computed:Object(u["a"])({},Object(c["c"])("quiz",{quiz:"newQuiz"})),methods:Object(u["a"])({},Object(c["d"])("quiz",{updateInformation:F}),{updateTitle:function(e){this.updateInformation({title:e,description:this.quiz.description})},updateDescription:function(e){this.updateInformation({description:e,title:this.quiz.title})}})},V=J,K=Object(d["a"])(V,P,C,!1,null,null,null),Y=K.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-expansion-panel",{attrs:{focusable:""}},e._l(e.quiz.questions,function(t,r){return n("v-expansion-panel-content",{key:r,attrs:{focusable:""}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(t.question))]),n("v-card",{staticClass:"grey lighten-3"},[n("v-container",[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-text-field",{attrs:{label:"Frage",value:t.question},on:{input:function(t){return e.updateQuestionTitle(t,r)}}})],1),n("v-flex",{attrs:{xs2:""}},[n("v-text-field",{attrs:{type:"Nummer",label:"Punkte",value:t.points},on:{input:function(t){return e.updateQuestionPoints(t,r)}}})],1)],1),n("v-container",e._l(t.answers,function(t,i){return n("v-layout",{key:i,attrs:{wrap:""}},[n("v-flex",{attrs:{xs10:""}},[n("v-checkbox",{attrs:{label:"Right Answer","input-value":t.isRight,"hide-details":""},on:{change:function(t){return e.updateAnswerState(t,r,i)}}}),n("v-text-field",{attrs:{label:"Answer",value:t.answer},on:{input:function(t){return e.updateAnswerText(t,r,i)}}})],1),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:"red"},on:{click:function(t){return e.removeAnswer({questionIndex:r,answerIndex:i})}}},[n("v-icon",[e._v("remove")])],1)],1)],1)}),1),n("v-layout",{staticClass:"pl-2"},[t.answers.length<5?n("v-btn",{staticClass:"mt-4",attrs:{color:"primary"},on:{click:function(t){return e.addAnswer(r)}}},[e._v("Antwort Hinzufügen\n                ")]):e._e(),n("v-btn",{staticClass:"mt-4",attrs:{color:"red",dark:""},on:{click:function(t){return e.removeQuestion(r)}}},[e._v("Frage Entfernen\n                ")])],1)],1)],1)],1)}),1)],1)],1)],1)},ee=[],te={name:"quiz-questions",computed:Object(u["a"])({},Object(c["c"])("quiz",{quiz:"newQuiz"})),methods:Object(u["a"])({},Object(c["d"])("quiz",{addAnswer:M,updateQuestion:D,removeQuestion:$,removeAnswer:W,updateAnswer:B}),{updateAnswerText:function(e,t,n){this.updateAnswer({answer:e,isRight:this.quiz.questions[t].answers[n].isRight,questionIndex:t,answerIndex:n})},updateAnswerState:function(e,t,n){this.updateAnswer({isRight:e,answer:this.quiz.questions[t].answers[n].answer,questionIndex:t,answerIndex:n})},updateQuestionTitle:function(e,t){this.updateQuestion({question:e,points:this.quiz.questions[t].points,questionIndex:t})},updateQuestionPoints:function(e,t){var n=parseInt(e);isNaN(n)||n<0||this.updateQuestion({question:this.quiz.questions[t].question,points:n,questionIndex:t})}})},ne=te,re=Object(d["a"])(ne,X,ee,!1,null,null,null),ie=re.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.quiz.questions.length<10,expression:"quiz.questions.length < 10"}],staticClass:"mt-4",attrs:{color:"primary"},on:{click:e.addQuestion}},[e._v(" Frage Hinzufügen ")])],1),n("v-card-actions",[n("b",[e._v("Gesamte Punktzahl: "+e._s(e.totalPoints))]),n("v-spacer"),n("v-btn",{attrs:{flat:"",to:"/"}},[e._v("Abbrechen")]),n("v-btn",{attrs:{flat:"",color:"warning"},on:{click:e.reset}},[e._v("Zurücksetzen")]),n("v-btn",{attrs:{flat:"",color:"purple"},on:{click:e.action}},[e._v(e._s(e.actionName))])],1)],1)},ae=[],oe={name:"quiz-actions",props:["action","actionName"],computed:Object(u["a"])({},Object(c["c"])("quiz",{quiz:"newQuiz"}),{totalPoints:function(){return this.quiz.questions.reduce(function(e,t){return parseInt(t.points)+e},0)}}),methods:Object(u["a"])({},Object(c["d"])("quiz",{addQuestion:U,reset:L}))},ue=oe,ce=Object(d["a"])(ue,se,ae,!1,null,null,null),le=ce.exports,pe={name:"create-quiz",components:{QuizInformation:Y,QuizQuestions:ie,QuizActions:le},methods:Object(u["a"])({},Object(c["b"])("quiz",{create:"create"}),{createQuiz:function(){var e=Object(N["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.create();case 3:this.$router.push("/"),e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),alert(e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));function t(){return e.apply(this,arguments)}return t}()})},de=pe,fe=Object(d["a"])(de,S,T,!1,null,null,null),ve=fe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[e.quiz?n("v-container",[e.done?n("v-layout",[n("v-flex",{attrs:{sm12:""}},[n("p",[e._v("Du hast "+e._s(e.score)+" / "+e._s(e.totalScore)+" Punkte")]),e.mistakes.length>0?n("div",[n("h3",[e._v("Deine Fehler:")]),e._l(e.mistakes,function(t,r){return n("p",{key:r},[e._v("\n            Frage: "+e._s(t.question)+" "),n("br"),e._v("\n            Deine Antwort: "+e._s(t.chosenAnswer)+" "),n("br"),e._v("\n            Richtige Antwort: "+e._s(t.rightAnswer)+"\n            "),n("br")])})],2):e._e(),n("v-btn",{attrs:{to:"/"}},[e._v("Beenden")])],1)],1):n("v-stepper",{model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[n("v-stepper-header",[e._l(e.quiz.questions.length,function(t){return[n("v-stepper-step",{key:t,attrs:{step:t,complete:e.step>t}})]}),n("v-divider")],2),n("v-stepper-items",e._l(e.quiz.questions,function(t,r){return n("v-stepper-content",{key:r,attrs:{step:r+1}},[n("h3",[e._v(e._s(t.question))]),n("v-radio-group",{model:{value:e.stepAnswer,callback:function(t){e.stepAnswer=t},expression:"stepAnswer"}},e._l(t.answers,function(e,t){return n("v-radio",{key:t,attrs:{label:e.answer,value:t}})}),1),n("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.next(t)}}},[e._v("Weiter")])],1)}),1)],1)],1):e._e()],1)},me=[],be=(n("7514"),{name:"quiz",created:function(){this.getQuiz(this.$route.params.id)},computed:Object(u["a"])({},Object(c["c"])("quiz",{quiz:"quiz"}),{totalScore:function(){return this.quiz.questions.reduce(function(e,t){return e+t.points},0)}}),methods:Object(u["a"])({},Object(c["b"])("quiz",{getQuiz:"get"}),{next:function(){if(null!=this.stepAnswer){var e=this.quiz.questions[this.step-1],t=e.answers[this.stepAnswer];t.isRight?this.score+=e.points:this.mistakes.push({question:e.question,rightAnswer:e.answers.find(function(e){return e.isRight}).answer,chosenAnswer:t.answer}),this.step<this.quiz.questions.length?(this.step++,this.stepAnswer=null):(console.log("hier"),this.done=!0)}}}),data:function(){return{step:1,score:0,stepAnswer:null,done:!1,mistakes:[]}}}),ge=be,we=Object(d["a"])(ge,he,me,!1,null,null,null),qe=we.exports;r["default"].use(q["a"]);var ze=new q["a"]({routes:[{path:"/",name:"Home",component:R},{path:"/create",name:"Create",component:ve},{path:"/quiz/:id",name:"Quiz",component:qe}]}),xe=n("bd86"),_e=n("c23d"),Oe=n.n(_e);n("b7aa"),n("e89a");Oe.a.initializeApp({apiKey:"AIzaSyDcFTV2SdcrJ9BEE9IzN9G4BjU97jiz6vY",authDomain:"fire-quiz-16ce0.firebaseapp.com",databaseURL:"https://fire-quiz-16ce0.firebaseio.com",projectId:"fire-quiz-16ce0",storageBucket:"fire-quiz-16ce0.appspot.com",messagingSenderId:"1066154044609"});var je,Qe,Ie=Oe.a,ke="SET_PROFILE",ye="LOGOUT",Ae={profile:{},loggedIn:!1},Ee={profile:function(e){var t=e.profile;return t},loggedIn:function(e){var t=e.loggedIn;return t}},Re=(je={},Object(xe["a"])(je,ke,function(e,t){e.loggedIn=!0,e.profile={name:t.displayName,picture:t.photoURL}}),Object(xe["a"])(je,ye,function(e){e.loggedIn=!1,e.profile={}}),je),Se={login:function(){var e=Object(N["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.state.loggedIn){e.next=2;break}return e.abrupt("return");case 2:return n=new Ie.auth.GoogleAuthProvider,e.prev=3,e.next=6,Ie.auth().signInWithPopup(n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](3),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[3,8]])}));function t(t){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(N["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ie.auth().signOut();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}},e,null,[[0,5]])}));function t(){return e.apply(this,arguments)}return t}()},Te={namespaced:!0,state:Ae,getters:Ee,mutations:Re,actions:Se},Ne=(n("ac6a"),Ie.firestore()),Pe=Ne,Ce={newQuiz:{title:"FireQuiz 2019",description:"Beschreibung",questions:[{question:"Erste Frage",points:50,answers:[{isRight:!1,answer:"Erste Antwort"},{isRight:!1,answer:"Zweite Antwort"},{isRight:!1,answer:"Dritte Antwort"}]}]},list:[],quiz:null},Fe={newQuiz:function(e){var t=e.newQuiz;return t},list:function(e){var t=e.list;return t},quiz:function(e){var t=e.quiz;return t}},Ue=(Qe={},Object(xe["a"])(Qe,L,function(e){e.newQuiz={title:"",description:"",questions:[]}}),Object(xe["a"])(Qe,F,function(e,t){e.newQuiz.title=t.title,e.newQuiz.description=t.description}),Object(xe["a"])(Qe,U,function(e){e.newQuiz.questions.push({question:"Frage",points:0,answers:[]})}),Object(xe["a"])(Qe,D,function(e,t){var n=e.newQuiz.questions[t.questionIndex];n.question=t.question,n.points=t.points}),Object(xe["a"])(Qe,$,function(e,t){e.newQuiz.questions.length>1&&e.newQuiz.questions.splice(t,1)}),Object(xe["a"])(Qe,M,function(e,t){var n=e.newQuiz.questions[t].answers;n.length<5&&n.push({answer:"Weitere Frage",isRight:!1})}),Object(xe["a"])(Qe,B,function(e,t){var n=t.questionIndex,r=t.answerIndex,i=t.answer,s=e.newQuiz.questions[n].answers[r];s.isRight=t.isRight,s.answer=i}),Object(xe["a"])(Qe,W,function(e,t){var n=t.questionIndex,r=t.answerIndex,i=e.newQuiz.questions[n];i.answers.length>1&&i.answers.splice(r,1)}),Object(xe["a"])(Qe,G,function(e,t){e.list.push(t)}),Object(xe["a"])(Qe,Z,function(e){e.list=[]}),Object(xe["a"])(Qe,H,function(e,t){e.quiz=t}),Qe),De={create:function(){var e=Object(N["a"])(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.state,r=Ie.auth().currentUser,!r){e.next=14;break}if(i=n.newQuiz,i.title&&i.description){e.next=6;break}throw new Error("Quiz-Informationen werden benötigt!");case 6:if(0!=i.questions.length){e.next=8;break}throw new Error("Quiz ist leer!");case 8:return i.questions.map(function(e){if(0==e.answers.length)throw new Error("Frage: '".concat(e.question,"' hat keine Antworten!"));var t=!1;if(e.answers.map(function(e){e.isRight&&(t=!0)}),!t)throw new Error("Frage: '".concat(e.question,"' hat keine richtige Antwort!"))}),e.next=11,Pe.collection("quizes").add(Object(u["a"])({},n.newQuiz,{userId:r.uid}));case 11:alert("Quiz erstellt"),e.next=15;break;case 14:alert("Nicht eingeloggt");case 15:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}(),list:function(e){var t=e.commit;t(Z),Pe.collection("quizes").onSnapshot(function(e){e.docChanges.forEach(function(e){"added"===e.type&&t(G,Object(u["a"])({id:e.doc.id},e.doc.data()))})})},get:function(){var e=Object(N["a"])(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Pe.collection("quizes").doc(n).get();case 3:i=e.sent,i.exists&&r(H,Object(u["a"])({id:i.id},i.data()));case 5:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},$e={namespaced:!0,state:Ce,getters:Fe,mutations:Ue,actions:De};r["default"].use(c["a"]);var Me=new c["a"].Store({state:{awesome:!0},modules:{user:Te,quiz:$e}}),We=Me;Ie.auth().onAuthStateChanged(function(e){e?We.commit("user/".concat(ke),e):We.commit("user/".concat(ye))});n("bf40");r["default"].use(s.a),new r["default"]({el:"#app",router:ze,store:We,template:"<App/>",render:function(e){return e(w)},components:{App:w}}).$mount("#app")}});
//# sourceMappingURL=app.ad556184.js.map